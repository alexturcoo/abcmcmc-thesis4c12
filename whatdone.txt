##This file will record things I have done for my thesis so far##
##I am learning c/c++ for my thesis to run an ABC-MCMC

####################################################################
1. Created function which takes an integer value and generates a  
random amino acid sequence of that length (I used the string class
from c++ for this part)                                           


std::string createSeq(int n){

    char aminoAcids[numAA] = { AMINO ACID SYMBOLS };

    std::string protein = "";
    for (int i = 0; i < n; i++){
        protein =  protein + aminoAcids[rand() % numAA];}

    std::cout << protein << "\n" << "\n" ;
    //printf("%s", protien.c_str());
    return protein;
}

####################################################################
2. The second function I began working on reads in the SRP40
protein which acts as the data that is already known, and it
creates a vector with characteristics like the length of the
sequence, the number of LCR's in the sequence, average entropy of
the LCRs - we must use segA to determine these characteristics.
- in C, we need to figure out how to call segA and record the value
  of the output and manipulate the value of the output as well (SEP
19 2022)
- I have created a symbolic link to the program segA and I will use
  that when I call segA from c/c++. (SEP 19 2022)
- Converted srp40 protein string into fasta file, fed that fasta file to segA, figured out how many low complexity regions are in the srp40 protien sequence (SEP 20 2022) 

int og_protein(){

    std::string srp40 = "MASKKIKVDEVPKLSVKEKEIEEKSSSSSSSSSSSSSSSSSSSSSSSSSGESSSSSSSSSSSSSSDSSDS\
SDSESSSSSSSSSSSSSSSSDSESSSESDSSSSGSSSSSSSSSDESSSESESEDETKKRARESDNEDAKE\
TKKAKTEPESSSSSESSSSGSSSSSESESGSESDSDSSSSSSSSSDSESDSESDSQSSSSSSSSDSSSDS\
DSSSSDSSSDSDSSSSSSSSSSDSDSDSDSSSDSDSSGSSDSSSSSDSSSDESTSSDSSDSDSDSDSGSS\
SELETKEATADESKAEETPASSNESTPSASSSSSANKLNIPAGTDEIKEGQRKHFSRVDRSKINFEAWEL\
TDNTYKGAAGTWGEKANEKLGRVRGKDFTKNKNKMKRGSYRGGSITLESGSYKFQD";

    //creating fasta file of protein string to use in segA
    std::ofstream MyFile("srp40.fasta"); //Create and open a fasta file
    MyFile << ">srp40_saccharomyces_cerevisiae\n" << srp40; //Write to the file
    MyFile.close(); //Close the file

    //getting the characteristics of the sequence
    int length = srp40.length();
    system("segA srp40.fasta 15 1.9 2.2 -l | grep '>' | wc -l >> numlcr.txt"); //Write the results of counting the LCRs to a txt file
    std::ifstream myreadfile("numlcr.txt"); //Declaring fstream variable and connecting it to a stream object by opening the file
    int num_lcr; //Declare int variable which holds the contents of the 'numlcr.txt' file
    myreadfile >> num_lcr; //Pipe file's content into stream
    //int avg_entropy_lcr =

    std::cout << srp40 << "\n" << "\n" << length << "\n" << "\n"<< num_lcr << "\n" ;
    return 0;
}

###################################################################################################
3. I created a repository on github so I could work both from home
and from the lab and push changes on both different devices (SEP 19
2022)
- always need to remember to push the changes from where I am
  working - once segA is involved, the code will only work when
running on the server

####################################################################################################
4. The third function I am working on is the function responsible for mutating the randomly generated protein sequence (SEP 21)
- Basically I need it to iterate through each amino acid in the generated sequence and choose a random exponential deviate from the
  exponential distribution (which models waiting times between events). Once I have generated a random exponential deviate for each amino
acid in the simulated sequence, I have to select the amino acid with the lowest value and select that amino acid to mutate into another
amino acid - I repeat this process of iterating through the sequence and assigning exponential deviates and mutating the lowest value for
a lot of generations (Brian suggested 1000 generations for 100 Amino acid sequence).
- Need to figure out a way to store the deviates in the same positions as amino acids so when we find the lowest number it matches the
  amino acid position

- SEPT 22 - Today I figured out that using a c++ vector is better
than using an array because arrays in c cant change size at runtime.
Vectors on the other hand can change size at runtime so we can add
values to it while iterating through the loop - today I just used
the rand() function because I could not get ran1 working for the
exponential deviates - I have basically intialized a vector,
iterated through the length of the simulated amino acid sequence and
produced a random number for that position in the amino acid - I
store these random values in a vector which is also 0 indexed and
matches the indices of the amino acid string.

std::string mutateSeq(std::string simulated_protein){

    std::vector<double> exp_deviates_vtr ; // Creating a vector to hold the values of the deviates

    // Traversing the string
    for (int i = 0; i < simulated_protein.length(); i++) {

        // Code to apply random exponential deviates to AA
        int deviate =  rand();
        exp_deviates_vtr.push_back(deviate);
    }

    // THIS IS JUST TO PRINT THE VECTOR
    for (int x = 0; x < exp_deviates_vtr.size(); i++) {
        std::cout << x << ' ';
    }
    

    return simulated_protein;
}





